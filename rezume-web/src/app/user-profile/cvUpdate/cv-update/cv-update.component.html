<div class="wrapper">

  <h2>Modifiez votre CV</h2>
    <form [formGroup]="cvUpdateForm" (ngSubmit)="onSubmit(cvUpdateForm)">
        <div class="form-group">
            <label for="age">Votre âge: </label>
            <input type="number" formControlName="age" class="form-control">
        </div>
        <div class="form-group">
            <label for="research">Votre recherche: </label>
            <input type="text" formControlName="research" class="form-control">
        </div>
        <fieldset formGroupName="experiences">
            <legend>Vos expériences | <span style="font-weight: bold; cursor: pointer" (click)="addExperience()">+</span></legend>
            <div class="input-group" *ngFor="let experienceControl of cvUpdateForm.get('experiences').controls; let i = index">
                <input type="text" class="form-control" [formControlName]="i">
                <span class="input-group-addon" id="basic-addon2" (click)="deleteExperience(i)" style="cursor: pointer">❌</span>
            </div>
        </fieldset>
        <fieldset formGroupName="degrees">
            <legend>Vos diplômes | <span style="font-weight: bold; cursor: pointer" (click)="addDegree()">+</span></legend>
            <div class="input-group" *ngFor="let degreeControl of cvUpdateForm.get('degrees').controls; let i = index">
                <input type="text" class="form-control" [formControlName]="i">
                <span class="input-group-addon" id="basic-addon2" (click)="deleteDegree(i)" style="cursor: pointer">❌</span>
            </div>
        </fieldset>
        <div class="form-group">
            <label for="image">Votre photo: </label>
            <input type="file" formControlName="image" (change)="onFileChange($event)" #fileInput>
        </div>
        <button type="submit">Submit</button>
    </form>

<!-- Success message -->
<div class="success" *ngIf="showSuccessMessage">
  Votre CV a été modifié avec succès
</div>

<!-- Error message -->
<div class="alert" *ngIf="serverErrorMessages">
  {{serverErrorMessages}}
</div>

</div>
