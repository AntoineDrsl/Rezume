
<!--FORM POST SIDE-->
<div class="postSide">

  <div class="postForm">

    <form [formGroup]="addPost" (ngSubmit)="addPost.valid && onSubmit(addPost)">
      <div class="form-group">
        <label for="postContent" class="labelTitle">Créer une publication</label>
        <input type="text" formControlName="title" class="form-control" placeholder="Titre de la publication" id="titleContent" required>
        <textarea formControlName="content" id="content" class="form-control" cols="30" placeholder="Dernières nouvelles de l'entreprise"
        id="postContent" required></textarea>
      </div>

      <div class="form-group fileInput">
        <input id="file" type="file" formControlName="image" class="input-file" (change)="onFileChange($event)">
        <label for="file" class="label-file ml-4"><img src="assets/icons/photo.svg" alt="icone" width="30px"></label><br>
      </div>
      <input type="submit" value="Nouveau post">

    </form>
  </div>

  <div class="alert alert-success" role="alert" *ngIf="showMessageSuccess">
    Posté avec succès
  </div>
  <div class="alert alert-success" role="alert" *ngIf="showImgMessageSuccess">
    img
  </div>



  <!--POST SIDE-->
  <p class="titlePost">
    Vos derniers posts:
  </p>
  <div class="postSection">


    <div class="post" *ngFor="let post of company[0].posts; index as i">
      <div class="postHead">
        <p class="postTitle">
          {{post.title}}
        </p>
        <hr>
      </div>

      <div class="postImage" *ngIf="post.img_path">
        <img src="http://localhost:3000/post/{{post.img_path}}" alt="PP" class="pictureProfile img-thumbnail" width="50%">
      </div>

      <div class="postContent">
        <p class="postText">
          {{post.content}}
        </p>
        <p class="text-muted datePost">
          {{post.createdAt}}
        </p>
      </div>
    </div>

    <div *ngIf="company[0].posts.length == 0">
      Vous n'avez encore rien posté, alors allez y !
    </div>

  </div>

</div>

